(this["webpackJsonpfuse-react-app"]=this["webpackJsonpfuse-react-app"]||[]).push([[149],{4091:function(e,t,a){"use strict";a.r(t);var n=a(1702),c=a(293),r=a(0),l=a.n(r),o=a(1774),i=a(128),s=a(1652),u=a(1647),m=a(740),d=a(242),f=a(1668),p=a(244),h=a(5),b=a(32),E=a(1715);var g=function(e){var t=Object(h.b)(),a=Object(h.c)((function(e){return e.eCommerceApp.discounts.searchText})),n=Object(h.c)((function(e){return e.fuse.settings.mainTheme}));return l.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},l.a.createElement("div",{className:"flex items-center"},l.a.createElement(i.a,{animation:"transition.expandIn",delay:300},l.a.createElement(u.a,{className:"text-32"},"shopping_basket")),l.a.createElement(i.a,{animation:"transition.slideLeftIn",delay:300},l.a.createElement(p.a,{className:"hidden sm:flex mx-0 sm:mx-12",variant:"h6"},"Discounts"))),l.a.createElement("div",{className:"flex flex-1 items-center justify-center px-12"},l.a.createElement(f.a,{theme:n},l.a.createElement(i.a,{animation:"transition.slideDownIn",delay:300},l.a.createElement(d.a,{className:"flex items-center w-full max-w-512 px-8 py-4 rounded-8",elevation:1},l.a.createElement(u.a,{color:"action"},"search"),l.a.createElement(m.a,{placeholder:"Search",className:"flex flex-1 mx-8",disableUnderline:!0,fullWidth:!0,value:a,inputProps:{"aria-label":"Search"},onChange:function(e){return t(E.V(e))}}))))),l.a.createElement(i.a,{animation:"transition.slideRightIn",delay:300},l.a.createElement(s.a,{component:b.a,to:"/apps/e-commerce/discount/new",className:"whitespace-no-wrap normal-case",variant:"contained",color:"secondary"},l.a.createElement("span",{className:"hidden sm:flex"},"Add New Discount"),l.a.createElement("span",{className:"flex sm:hidden"},"New"))))},x=a(1693),w=a.n(x),v=a(1717),j=a(17),O=a(37),N=a(8),k=a(1659),C=a(1812),S=a(1816),y=a(1815),P=a(2455),A=a(1814),D=a(525),I=a(10),B=a(103),R=a(830),T=a(1675),W=a(1655),q=a(538),z=a(1649),J=a(1606),M=a(1634),_=a(1813),L=a(2454),U=a(1653),V=[{id:"discount-code",align:"left",disablePadding:!1,label:"Discount Code",sort:!0},{id:"discount-amount",align:"left",disablePadding:!1,label:"Discount Amount",sort:!0},{id:"Actions",align:"left",disablePadding:!1,label:"Actions",sort:!0}],F=Object(M.a)((function(e){return{actionsButtonWrapper:{background:e.palette.background.paper}}}));var G=function(e){var t=F(e),a=Object(r.useState)(null),n=Object(j.a)(a,2),c=n[0],o=n[1];function i(){o(null)}return l.a.createElement(_.a,null,l.a.createElement(A.a,{className:"h-64"},l.a.createElement(y.a,{padding:"none",className:"relative w-64 text-center"},l.a.createElement(k.a,{indeterminate:e.numSelected>0&&e.numSelected<e.rowCount,checked:e.numSelected===e.rowCount,onChange:e.onSelectAllClick}),e.numSelected>0&&l.a.createElement("div",{className:Object(I.a)("flex items-center justify-center absolute w-64 top-0 ltr:left-0 rtl:right-0 mx-56 h-64 z-10",t.actionsButtonWrapper)},l.a.createElement(R.a,{"aria-owns":c?"selectedProductsMenu":null,"aria-haspopup":"true",onClick:function(e){o(e.currentTarget)}},l.a.createElement(u.a,null,"more_horiz")),l.a.createElement(q.a,{id:"selectedProductsMenu",anchorEl:c,open:Boolean(c),onClose:i},l.a.createElement(J.a,null,l.a.createElement(z.a,{onClick:function(){i()}},l.a.createElement(T.a,{className:"min-w-40"},l.a.createElement(u.a,null,"delete")),l.a.createElement(W.a,{primary:"Remove"})))))),V.map((function(t){return l.a.createElement(y.a,{key:t.id,align:t.align,padding:t.disablePadding?"none":"default",sortDirection:e.order.id===t.id&&e.order.direction},t.sort&&l.a.createElement(U.a,{title:"Sort",placement:"right"===t.align?"bottom-end":"bottom-start",enterDelay:300},l.a.createElement(L.a,{active:e.order.id===t.id,direction:e.order.direction,onClick:(a=t.id,function(t){e.onRequestSort(t,a)})},t.label)));var a}),this)))};var H=Object(B.j)((function(e){var t=Object(h.b)(),a=Object(h.c)((function(e){return e.eCommerceApp.discounts.data})),n=Object(h.c)((function(e){return e.eCommerceApp.discounts.searchText})),c=Object(r.useState)([]),o=Object(j.a)(c,2),i=o[0],u=o[1],m=Object(r.useState)(a),d=Object(j.a)(m,2),f=d[0],p=d[1],b=Object(r.useState)(!1),g=Object(j.a)(b,2),x=g[0],I=g[1],B=Object(r.useState)(0),R=Object(j.a)(B,2),T=R[0],W=R[1],q=Object(r.useState)(10),z=Object(j.a)(q,2),J=z[0],M=z[1],_=Object(r.useState)({direction:"asc",id:null}),L=Object(j.a)(_,2),U=L[0],V=L[1];return Object(r.useEffect)((function(){(function(){var e=Object(v.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!1),e.t0=t,e.next=4,E.E();case 4:return e.t1=e.sent,e.next=7,(0,e.t0)(e.t1);case 7:I(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(r.useEffect)((function(){p(a)}),[a,n]),x?l.a.createElement("div",{className:"w-full flex flex-col"},l.a.createElement(O.a,{className:"flex-grow overflow-x-auto"},l.a.createElement(C.a,{className:"min-w-xl","aria-labelledby":"tableTitle"},l.a.createElement(G,{numSelected:i.length,order:U,onSelectAllClick:function(e){e.target.checked?u(f.map((function(e){return e.id}))):u([])},onRequestSort:function(e,t){var a=t,n="desc";U.id===t&&"desc"===U.direction&&(n="asc"),V({direction:n,id:a})},rowCount:f.length}),l.a.createElement(S.a,null,N.a.orderBy(f,[function(e){switch(U.id){case"State":return e.categories[0];default:return e[U.id]}}],[U.direction]).slice(T*J,T*J+J).map((function(t){var a=-1!==i.indexOf(t.id);return l.a.createElement(A.a,{className:"h-64 cursor-pointer",hover:!0,role:"checkbox","aria-checked":a,tabIndex:-1,key:t.id,selected:a},l.a.createElement(y.a,{className:"w-64 text-center",padding:"none"},l.a.createElement(k.a,{checked:a,onClick:function(e){return e.stopPropagation()},onChange:function(e){return function(e,t){var a=i.indexOf(t),n=[];-1===a?n=n.concat(i,t):0===a?n=n.concat(i.slice(1)):a===i.length-1?n=n.concat(i.slice(0,-1)):a>0&&(n=n.concat(i.slice(0,a),i.slice(a+1))),u(n)}(0,t.id)}})),l.a.createElement(y.a,{component:"th",scope:"row"},t.code),l.a.createElement(y.a,{component:"th",scope:"row"},t.amount),l.a.createElement(y.a,{component:"th",scope:"row"},l.a.createElement(s.a,{className:"whitespace-no-wrap normal-case",variant:"contained",color:"secondary",onClick:function(){e.history.push("/apps/e-commerce/discount/".concat(t.id))}},"Edit")))}))))),l.a.createElement(P.a,{className:"overflow-hidden",component:"div",count:f.length,rowsPerPage:J,page:T,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:function(e,t){W(t)},onChangeRowsPerPage:function(e){M(e.target.value)}})):l.a.createElement(D.a,null)}));t.default=Object(c.a)("eCommerceApp",o.a)((function(){return l.a.createElement(n.a,{classes:{content:"flex",header:"min-h-72 h-72 sm:h-136 sm:min-h-136"},header:l.a.createElement(g,null),content:l.a.createElement(H,null),innerScroll:!0})}))}}]);